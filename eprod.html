<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

  <!--Bootstrap-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

</head>

<body>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
    crossorigin="anonymous"></script>


  <!-- navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <div class="navbar-nav">
        <a class="nav-item nav-link active" href="index.html">Home</a>
        <a class="nav-item nav-link" href="about.html">Introduction</a>
        <a class="nav-item nav-link" href="software.html">Software</a>
        <a class="nav-item nav-link" href="finalproject.html">Final Project</a>
        <div class="dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            Assignment
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="edesign.html">Electronics Design</a>
            <a class="dropdown-item" href="eprod.html">Electronics Production</a>
            <a class="dropdown-item" href="2dcnc.html">2D Computer Controlled Machining</a>
            <a class="dropdown-item" href="embedprogramming.html">Embedded Programming</a>
            <a class="dropdown-item" href="moldcast.html">Molding and Casting</a>
            <a class="dropdown-item" href="3dcnc.html">3D Machining</a>
            <a class="dropdown-item" href="programming.html">Interface & Applications Programming</a>
          </div>
        </div>
      </div>
  </nav>

<div class="main">

<header>
  <h1>Electronics Production</h1>
</header>
 <body>
   <p>
     In Electronics Production, a key part of most technolgies is a Printed Circuit Board (PCB). PCBs are defined as custom etched/printed boards.<br>
     Electronic components (such as LEDs, resistors etc.) are mounted onto the board to form a working circuit or assembly.<br>
     PCBs are essential for most common technology available in the market and are way better compared to the standard breadboard.<br>
     <div class="list">
      <ul> <b> So why choose PCBs over breadboards? Some reasons include: </b>
        <li>customized electronics for product requirements</li>
        <li>customized footprint (e.g. occupies less space)</li>
        <li>more reliable (soldered PCBs last longer than wired breadboards)</li>
        <li>can prototype and iterate faster</li>
        <li>better product integration</li>
      </ul>
    </div>
    With that, how are PCBs made? There are 2 ways to do it.<br>
    First method is through etching. Etching uses certain chemicals to etch out the outlines of your PCB. There are many types of chemicals<br>
    used for etching, however all require waste control in order to dispose of due to their chemical disposition. <br>
    Therefore, in the Fablab, this method is not used.<br>
    The second method is to mill out your PCB. Using a small CNC machine, the traces can be milled out and the PCB can be cut out.<br>
    Compared to etching, this method is much simpler and is used in the Fablab.<br>
    In the Fablab, the Stepcraft 420 machine is used, paired alongside UCCNC post processing software.<br>
   </p>
   <p>
     For my assignment, I was tasked to mill out my own ISP programmer.<br>
    An ISP programmer is an In System Programmer used to program certain microcontrollers.<br>
    To create my ISP, I will need to first generate the g-code for both the traces (connections) and the outline (cut out pcb)<br>
    (image)<br>
    Using Mods, this is how the g-code is generated. <br>
    Once the right program is loaded, we have to change the settings to suit our needs.<br>
    Note that these settings are not always needed and can change depending on your needs.<br>
    For traces, the endmill size is 0.4mm, cut speed around 60mm/min, cut depth 0.05mm, total depth 0.05mm, offset 3<br>
    For outlines, endmill size 0.8mm, cut speed 70mm/min, cut depth 0.45mm, total depth 1.7mm, offset 1<br>
    Press calculate and save the g-code. Now, we can start milling our PCB.
   </p>
   <p>
    Loading up the g-code in UCCNC post-processor, before I can start milling, I need to check a few things.<br>
    First is to ensure the copper board used is stuck at a flat surface. It must not move while milling.<br>
    Afterwards, we attach our endmill. Start with the traces, then cut the outline out.<br>
    Next, we have to calibrate our axes. Calibrating the x and y-axes are simple. Find the origin point (bottom left) of your<br>
    imported g-code and set a point as your origin. After that is done, setting the z-axis needs a bit more work.<br>
    Stepcraft 420 comes with a probe that you use to set your z as 0.<br>
    By placing it under the endmill, we can use it to set our z as 0.<br>
    Once that is done, we can start milling.<br>
    Below is the machine at work<br>
    (image)<br>
    Final cut ISP<br>
    (image)<br>
    This step is optional, however to reduce the chances of shorting your PCB you can remove dead copper<br> 
    (copper that does not contribute to any electrical connections in your PCB).
    (image if have)<br>
    With our ISP milled out, we need to assemble the electronics. <br>
    For our PCB, our electronic components are SMD (surface mounted devices). They are much smaller than your average component,<br>
    but they serve the same purpose. For most modern electronics, SMDs are better for more compact PCBs.<br>
    <div class="list">
      <ul> <b> The components we need are: </b>
        <li>ATtiny45/85 X1</li>
        <li>1KΩ resistors X2</li>
        <li>499Ω resistors X2</li>
        <li>49Ω resistors X2</li>
        <li>3.3V zener diodes X2</li>
        <li>red LED X1</li>
        <li>green LED X2</li>
        <li>100nF non-polar capacitor X1</li>
        <li>2X3 pin header X1</li>
      </ul>
    </div>
    Below is the PCB with the soldered components.<br>
   </p>
   With the hardware done, it is time to program it.<br> 
   <div class="list">
    <ul> <b> To program it, the following software has to be installed: </b>
      <li>Atmel GNU Toolchain</li>
      <li>GNU Make</li>
      <li>avrdude</li>
      <li>USB Driver (Zadig)</li>
    </ul>
  </div>
  After that, we need to update the path for these software installed. (Windows > Advanced System Settings > Environment Variables)<br>
  <div class="list">
    <ul> <b> These have to be added in: </b>
      <li>C:\Program Files\avr8-gnu-toolchain\bin</li>
      <li>C:\Program Files (x86)\GnuWin32\bin</li>
      <li>C:\Program Files\avrdude</li>
    </ul>
  </div>
Once the installations is done, some modifications need to be done.<br>
First is to configure the makefile. Update MCU to whatever microcontroller you use (attiny85 for me)<br>
(image)<br>
Next, edit the highlighted text so that it shows -G. For some reason I had to change it, otherwise the whole compiler stopped working.<br>
(image)<br>
Once done, head to command prompt. We will check to see if our compilers are done right.<br>
First, type make-v and press Enter.<br>
Next, type avr-gcc -version and press Enter.<br>
Finally, type avrdude and press Enter.<br>
(image)<br>
Once the check is complete, we can run our programs to program our ISP.<br>
First, type 'make flash' to upload the firmware to our ISP.<br>
(image)<br>
Second, type 'make fuses' to program fuse settings for our ISP.<br>
(image)<br>
Lastly, type 'make rstdisbl' to disable our reset pin and convert it to a general purpose I/O pin. This makes our ISP programmer not programmable.<br>
(image><br>
Image credit for the programming goes to Justin as I did my programming on another computer.<br>
With that, my ISP is done.<br>
 </body>   
</div>

<footer>
    <p>Copyright © Ng Chee Rui, Ethan</p>
    <img src="" width="20%" /><br>
  </footer>
</body>

</html>